.week-view-section {
    background: var(--bg-card);
    border: 1px solid var(--crystal-border);
    border-radius: 16px;
    overflow: hidden;
}

.week-header {
    padding: 16px 20px;
    border-bottom: 1px solid var(--crystal-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.week-title {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 15px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.week-nav {
    display: flex;
    gap: 8px;
}

.week-nav-btn {
    width: 32px;
    height: 32px;
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--crystal-border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.week-nav-btn:hover {
    border-color: var(--crimson-bright);
    color: white;
    background: rgba(220, 20, 60, 0.1);
}

/* Week Days Strip */
.week-days-strip {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    border-bottom: 1px solid var(--crystal-border);
}

.week-day {
    padding: 16px 8px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    border-right: 1px solid var(--crystal-border);
    position: relative;
}

.week-day:last-child {
    border-right: none;
}

.week-day:hover {
    background: rgba(255,255,255,0.03);
}

.week-day.active {
    background: rgba(220, 20, 60, 0.1);
}

.week-day.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--crimson-bright);
}

.week-day-name {
    font-size: 12px;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-bottom: 4px;
}

.week-day-number {
    font-family: var(--display-font);
    font-size: 26px;
    font-weight: 900;
    color: white;
    margin-bottom: 8px;
}

.week-day-stats {
    display: flex;
    justify-content: center;
    gap: 8px;
    font-size: 12px;
}

.week-day-count {
    padding: 2px 8px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    color: var(--text-secondary);
}

.week-day-count.urgent {
    background: rgba(255, 68, 68, 0.2);
    color: #ff6b6b;
}

.week-day-count.warning {
    background: rgba(201, 169, 98, 0.2);
    color: var(--warning);
}

/* Selected Day Tasks */
.day-tasks-container {
    padding: 20px;
    min-height: 200px;
}

.day-tasks-header {
    font-size: 14px;
    color: var(--text-muted);
    margin-bottom: 16px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.day-tasks-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.day-task-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 16px;
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--crystal-border);
    border-radius: 10px;
    transition: all 0.2s;
}

.day-task-item:hover {
    border-color: var(--crimson-bright);
    background: rgba(220, 20, 60, 0.05);
}

.day-task-time {
    font-size: 13px;
    color: var(--text-muted);
    min-width: 60px;
    text-align: right;
}

.day-task-content {
    flex: 1;
}

.day-task-title {
    font-size: 14px;
    font-weight: 600;
    color: white;
    margin-bottom: 2px;
}

.day-task-project {
    font-size: 12px;
    color: var(--crimson-bright);
}

.day-task-priority {
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
}

.day-task-priority.high {
    background: rgba(255, 68, 68, 0.2);
    color: #ff6b6b;
}

.day-task-priority.medium {
    background: rgba(201, 169, 98, 0.2);
    color: var(--warning);
}

.day-task-priority.low {
    background: rgba(0, 255, 136, 0.15);
    color: var(--success);
}

/* Responsive */
@media (max-width: 1200px) {
    .week-days-strip {
        grid-template-columns: repeat(7, minmax(60px, 1fr));
        overflow-x: auto;
    }
}

/* ================================================== */
/* AGENT STATUS RAIL                                  */
/* ================================================== */
.agent-rail {
    position: sticky;
    top: 65px;
    z-index: 90;
    background: linear-gradient(
        180deg,
        rgba(220, 38, 38, 0.08) 0%,
        rgba(5, 5, 8, 0.98) 30%,
        rgba(3, 3, 5, 0.98) 100%
    );
    border-bottom: 1px solid rgba(220, 38, 38, 0.35);
    box-shadow: 0 1px 0 rgba(220, 38, 38, 0.1),
                0 4px 12px rgba(0, 0, 0, 0.5);
    padding: 6px 16px 6px calc(var(--sidebar-collapsed) + 16px);
    display: flex;
    gap: 8px;
    overflow-x: auto;
    scrollbar-width: none;
    transition: padding-left 0.3s;
}
body.sidebar-expanded .agent-rail { padding-left: calc(var(--sidebar-expanded) + 16px); }
.agent-rail::-webkit-scrollbar { display: none; }

.agent-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border: 1px solid rgba(255, 255, 255, 0.07);
    background: rgba(255, 255, 255, 0.02);
    font-family: var(--mono-font);
    font-size: 10px;
    letter-spacing: 0.5px;
    white-space: nowrap;
    cursor: default;
    transition: border-color 0.2s;
}
.agent-pill:hover { border-color: var(--crimson-bright); }

.pill-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
}
.pill-dot.active  { background: #DC143C; box-shadow: 0 0 6px #DC143C; animation: pill-pulse 2s ease-in-out infinite; }
.pill-dot.idle    { background: #FF6B00; }
.pill-dot.blocked { background: #ff4444; }
.pill-dot.offline { background: #444; }

@keyframes pill-pulse {
    0%, 100% { box-shadow: 0 0 4px #DC143C; }
    50%       { box-shadow: 0 0 10px #DC143C, 0 0 20px rgba(220,20,60,0.3); }
}
.pill-seen { color: rgba(255,255,255,0.3); font-size: 9px; }
.pill-dot.not_spawned { background: #555; opacity: 0.5; }
.fleet-status-dot.not_spawned { background: #555 !important; opacity: 0.5; box-shadow: none !important; }

/* Rail health chips (right side) */
.rail-health-chips {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
    padding: 0 8px;
}
.rail-chip {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    border: 1px solid rgba(255,255,255,0.06);
    font-family: var(--mono-font);
    font-size: 9px;
    letter-spacing: 0.5px;
    white-space: nowrap;
    color: var(--text-muted);
}
.rail-chip-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
}
.rail-chip-dot.ok     { 
    background: #DC143C; 
    box-shadow: 0 0 4px #DC143C; 
    animation: health-pulse-ok 2.5s ease-in-out infinite;
}
.rail-chip-dot.warn   { 
    background: #FF6B00; 
    box-shadow: 0 0 4px #FF6B00;
    animation: health-pulse-warn 3s ease-in-out infinite;
}
.rail-chip-dot.error  { 
    background: #ff4444; 
    box-shadow: 0 0 4px #ff4444;
    animation: health-pulse-error 1.5s ease-in-out infinite;
}
.rail-chip-dot.dim    { background: #444; }

@keyframes health-pulse-ok {
    0%, 100% { box-shadow: 0 0 4px #DC143C; }
    50% { box-shadow: 0 0 8px #DC143C, 0 0 12px rgba(220, 20, 60, 0.4); }
}
@keyframes health-pulse-warn {
    0%, 100% { box-shadow: 0 0 4px #FF6B00; }
    50% { box-shadow: 0 0 8px #FF6B00, 0 0 12px rgba(255, 107, 0, 0.4); }
}
@keyframes health-pulse-error {
    0%, 100% { box-shadow: 0 0 6px #ff4444; }
    50% { box-shadow: 0 0 12px #ff4444, 0 0 18px rgba(255, 68, 68, 0.5); }
}

/* Solar corona — top atmospheric glow */
.solar-corona {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 60%;
    z-index: 0;
    pointer-events: none;
    background: radial-gradient(ellipse 100% 50% at 50% 10%,
        rgba(255,107,0,0.06) 0%,
        rgba(220,20,60,0.08) 20%,
        rgba(139,0,0,0.12) 35%,
        transparent 60%);
}

/* ================================================== */
/* COMMAND STRIP (18-stat scrollable)                 */
/* ================================================== */
.cmd-strip {
    display: flex;
    align-items: center;
    background: linear-gradient(
        180deg,
        rgba(220, 38, 38, 0.05) 0%,
        rgba(5, 5, 8, 0.98) 40%,
        rgba(3, 3, 5, 0.98) 100%
    );
    border-bottom: 1px solid rgba(220, 38, 38, 0.45);
    box-shadow: 0 1px 0 rgba(220, 38, 38, 0.12),
                0 4px 16px rgba(0, 0, 0, 0.6);
    height: 48px;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none;
    padding: 0 6px;
}
.cmd-strip::-webkit-scrollbar { display: none; }

.cmd-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0 10px;
    min-width: 58px;
    cursor: default;
    transition: all 0.2s;
    flex-shrink: 0;
    height: 100%;
    position: relative;
    border-right: 1px solid rgba(220, 38, 38, 0.08);
}
.cmd-stat::after {
    content: '';
    position: absolute;
    right: 0;
    top: 20%;
    height: 60%;
    width: 1px;
    background: linear-gradient(
        180deg,
        transparent 0%,
        rgba(220, 38, 38, 0.25) 50%,
        transparent 100%
    );
}
.cmd-stat:last-child::after { display: none; }
.cmd-stat:hover { background: rgba(139, 0, 0, 0.10); }

.cmd-stat-value {
    font-family: var(--display-font);
    font-size: 18px;
    font-weight: 900;
    color: var(--text-primary);
    line-height: 1;
    margin-bottom: 2px;
}
.cmd-stat-label {
    font-family: var(--tech-font);
    font-size: 7px;
    font-weight: 500;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1.4px;
    white-space: nowrap;
}
.cmd-stat.good   .cmd-stat-value { color: var(--crimson-bright); }
.cmd-stat.alert  .cmd-stat-value { color: #ff4444; }
.cmd-stat.done   .cmd-stat-value { color: var(--success); }
.cmd-stat.info   .cmd-stat-value { color: #4dabf7; }
.cmd-stat.warn   .cmd-stat-value { color: var(--warning); }
.cmd-stat.dim    .cmd-stat-value { color: var(--text-muted); font-size: 10px; }

.cmd-divider {
    width: 1px;
    height: 28px;
    background: rgba(255,255,255,0.07);
    flex-shrink: 0;
    margin: 0 4px;
}

/* ================================================== */
/* TODAY'S FOCUS COLUMN                               */
/* ================================================== */
.focus-filter-bar {
    display: flex;
    gap: 4px;
    padding: 8px 12px;
    border-bottom: 1px solid var(--crystal-border);
    flex-shrink: 0;
}
.focus-filter-btn {
    padding: 3px 8px;
    font-size: 8px;
    letter-spacing: 1px;
    text-transform: uppercase;
    border: 1px solid var(--crystal-border);
    background: transparent;
    color: var(--text-muted);
    font-family: var(--tech-font);
    cursor: pointer;
    transition: all 0.15s;
}
.focus-filter-btn:hover { border-color: var(--crimson-bright); color: var(--text-primary); }
.focus-filter-btn.active {
    background: rgba(220, 20, 60, 0.15);
    border-color: var(--crimson-bright);
    color: var(--crimson-bright);
}
.focus-task-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    padding: 9px 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    transition: background 0.15s;
}
.focus-task-item:hover { background: rgba(139, 0, 0, 0.06); }
.focus-priority-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-top: 4px;
    flex-shrink: 0;
}
.focus-priority-dot.high   { background: #ff4444; box-shadow: 0 0 4px #ff4444; }
.focus-priority-dot.medium { background: var(--warning); }
.focus-priority-dot.low    { background: var(--text-muted); }
.focus-task-title {
    font-size: 11px;
    color: var(--text-primary);
    line-height: 1.4;
    flex: 1;
}
.focus-task-meta {
    font-size: 8px;
    color: var(--text-muted);
    margin-top: 3px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.focus-task-tag {
    display: inline-block;
    font-size: 8px;
    color: var(--crimson-bright);
    border: 1px solid rgba(220, 20, 60, 0.3);
    padding: 1px 5px;
    margin-top: 3px;
    font-family: var(--tech-font);
    letter-spacing: 0.5px;
}
#focus-empty {
    text-align: center;
    color: var(--text-muted);
    padding: 32px 12px;
    font-size: 11px;
}


/* ================================================== */
/* RED SUN — HERO SPHERE                              */
/* ================================================== */
.rs-bg-sun {
    position: fixed;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    width: 720px;
    height: 720px;
    border-radius: 50%;
    z-index: 1;
    pointer-events: none;
    background: radial-gradient(
        circle at 40% 35%,
        rgba(255, 255, 240, 0.70) 0%,
        rgba(255, 215, 0, 0.85)   6%,
        rgba(255, 107, 0, 0.90)   14%,
        rgba(220, 20, 60, 0.92)   24%,
        rgba(139, 0, 0, 0.95)     38%,
        rgba(60, 0, 0, 0.96)      55%,
        rgba(20, 0, 0, 0.98)      72%,
        transparent               90%
    );
    box-shadow:
        0 0 100px rgba(255, 107, 0, 0.35),
        0 0 200px rgba(220, 20, 60, 0.30),
        0 0 300px rgba(139, 0, 0, 0.25),
        0 0 500px rgba(60, 0, 0, 0.15);
    filter: blur(2px);
}
.rs-bg-sun::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 980px;
    height: 980px;
    border-radius: 50%;
    background: radial-gradient(
        circle,
        rgba(220, 20, 60, 0.15) 0%,
        rgba(139, 0, 0, 0.10) 35%,
        rgba(80, 0, 0, 0.06) 55%,
        transparent 75%
    );
    filter: blur(80px);
    animation: corona-breathe 6s ease-in-out infinite;
}
.rs-bg-sun::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(0deg);
    width: 820px;
    height: 820px;
    border-radius: 50%;
    background: conic-gradient(
        from 0deg,
        transparent 0%,
        rgba(255, 107, 0, 0.08) 4%,
        transparent 8%,
        rgba(220, 20, 60, 0.10) 12%,
        transparent 16%,
        rgba(255, 107, 0, 0.07) 20%,
        transparent 24%,
        rgba(220, 20, 60, 0.09) 28%,
        transparent 32%,
        rgba(255, 107, 0, 0.08) 36%,
        transparent 40%,
        rgba(220, 20, 60, 0.10) 44%,
        transparent 48%,
        rgba(255, 107, 0, 0.07) 52%,
        transparent 56%,
        rgba(220, 20, 60, 0.09) 60%,
        transparent 64%,
        rgba(255, 107, 0, 0.08) 68%,
        transparent 72%,
        rgba(220, 20, 60, 0.10) 76%,
        transparent 80%,
        rgba(255, 107, 0, 0.06) 84%,
        transparent 88%,
        rgba(220, 20, 60, 0.07) 92%,
        transparent 96%,
        transparent 100%
    );
    animation: sun-spin 100s linear infinite;
    filter: blur(6px);
}
@keyframes corona-breathe {
    0%, 100% { opacity: 0.7; transform: translate(-50%,-50%) scale(1); }
    50%       { opacity: 1.0; transform: translate(-50%,-50%) scale(1.06); }
}
@keyframes sun-spin {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to   { transform: translate(-50%, -50%) rotate(360deg); }
}

/* ================================================== */
/* RS HOME GRID                                       */
/* ================================================== */
.rs-home-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 12px;
    padding: 12px;
    position: relative;
    z-index: 1;
}
.rs-col {
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.rs-card {
    background: radial-gradient(
        circle at top left,
        rgba(220, 38, 38, 0.06) 0%,
        rgba(13, 0, 8, 0.95) 30%,
        #0a0006 100%
    );
    border: 1px solid rgba(220, 38, 38, 0.25);
    border-radius: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
    z-index: 1;
    box-shadow: 
        0 0 20px rgba(220, 38, 38, 0.1),
        0 4px 12px rgba(0, 0, 0, 0.7),
        inset 0 1px 0 rgba(255, 255, 255, 0.02),
        inset 0 -1px 0 rgba(220, 38, 38, 0.05);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.rs-card:hover {
    border-color: rgba(220, 38, 38, 0.4);
    box-shadow: 
        0 0 32px rgba(220, 38, 38, 0.16),
        0 8px 24px rgba(0, 0, 0, 0.8),
        inset 0 1px 0 rgba(255, 255, 255, 0.04),
        inset 0 -1px 0 rgba(220, 38, 38, 0.08);
    transform: translateY(-2px);
}
.rs-card-half { height: 340px; }
.rs-card-full { height: 692px; }

/* Alert Queue Card — Enhanced red glow treatment */
.rs-card.alert-queue-card {
    background: radial-gradient(
        circle at top left,
        rgba(255, 68, 68, 0.08) 0%,
        rgba(13, 0, 8, 0.95) 30%,
        #0a0006 100%
    );
    border-color: rgba(255, 68, 68, 0.3);
    box-shadow: 
        0 0 24px rgba(255, 68, 68, 0.12),
        0 4px 12px rgba(0, 0, 0, 0.7),
        inset 0 1px 0 rgba(255, 68, 68, 0.04);
}

/* ================================================== */
/* RS CARD HEADER                                     */
/* ================================================== */
.rs-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 9px 14px;
    border-bottom: 1px solid rgba(220, 38, 38, 0.18);
    flex-shrink: 0;
    background: linear-gradient(
        90deg,
        rgba(220, 38, 38, 0.04) 0%,
        rgba(0, 0, 0, 0.3) 50%,
        rgba(0, 0, 0, 0.2) 100%
    );
    box-shadow: 0 1px 0 rgba(220, 38, 38, 0.06);
}
.rs-card-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: var(--display-font);
    font-size: 8px;
    letter-spacing: 2.5px;
    text-transform: uppercase;
}
.rs-header-alert .rs-card-title  { color: #ff4444; }
.rs-header-feed  .rs-card-title  { color: rgba(255,255,255,0.5); }
.rs-header-fleet .rs-card-title  { color: #4dabf7; }
.rs-header-wf    .rs-card-title  { color: var(--solar-gold); }
.rs-header-focus .rs-card-title  { color: var(--crimson-bright); }

.rs-badge {
    font-family: var(--display-font);
    font-size: 8px;
    padding: 2px 7px;
    border: 1px solid rgba(255,255,255,0.15);
    color: var(--text-muted);
}
.rs-badge-alert { color: #ff4444; border-color: rgba(255,68,68,0.5); }
.rs-badge-fleet { color: #4dabf7; border-color: rgba(77,171,247,0.4); }
.rs-badge-focus { color: var(--crimson-bright); border-color: rgba(220,20,60,0.5); }

.rs-card-body {
    flex: 1;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(139,0,0,0.35) transparent;
}
.rs-card-body::-webkit-scrollbar { width: 4px; }
.rs-card-body::-webkit-scrollbar-thumb { background: rgba(139,0,0,0.4); }

.rs-card-footer {
    padding: 7px 14px;
    border-top: 1px solid rgba(220, 38, 38, 0.12);
    flex-shrink: 0;
    background: linear-gradient(
        90deg,
        rgba(220, 38, 38, 0.02) 0%,
        transparent 100%
    );
    box-shadow: 0 -1px 0 rgba(220, 38, 38, 0.04);
}
.rs-see-all {
    font-size: 8px;
    color: var(--crimson-bright);
    text-decoration: none;
    letter-spacing: 1.5px;
    text-transform: uppercase;
}
.rs-see-all:hover { text-decoration: underline; }

/* ================================================== */
/* ALERT QUEUE                                        */
/* ================================================== */
.alert-item {
    display: flex;
    gap: 10px;
    padding: 10px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    align-items: flex-start;
    border-left: 3px solid transparent;
    transition: background 0.15s;
}
.alert-item:hover { background: rgba(255,68,68,0.06); }
.alert-item.overdue { border-left-color: #ff4444; }
.alert-item.blocked { border-left-color: var(--solar-orange); }
.alert-pulse { animation: alert-pulse-border 1.5s ease-in-out infinite; }
@keyframes alert-pulse-border {
    0%, 100% { border-left-color: rgba(255,68,68,0.3); }
    50%       { border-left-color: #ff4444; }
}
.alert-task-id {
    display: inline-block;
    font-size: 7px;
    font-family: var(--display-font);
    color: var(--crimson-bright);
    border: 1px solid rgba(220,20,60,0.3);
    padding: 1px 5px;
    letter-spacing: 1px;
}
.alert-task-title { font-size: 11px; color: var(--solar-white); margin-top: 4px; line-height: 1.4; }
.alert-task-deadline { font-size: 9px; color: #ff4444; margin-top: 2px; }
.alert-task-assignee { font-size: 8px; color: var(--text-muted); margin-top: 1px; }

/* ================================================== */
/* LIVE FEED TERMINAL                                 */
/* ================================================== */
.rs-feed-body {
    background: linear-gradient(
        180deg,
        rgba(0, 0, 0, 0.95) 0%,
        rgba(0, 0, 0, 0.98) 100%
    );
    border: 1px solid rgba(220, 38, 38, 0.1);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
    font-family: 'Courier New', 'Courier', monospace;
    font-size: 10px;
    padding: 6px 8px;
    display: flex;
    flex-direction: column-reverse;
    gap: 1px;
    overflow-y: auto;
}
.feed-line {
    display: flex;
    gap: 8px;
    line-height: 1.6;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.feed-time  { color: rgba(255,255,255,0.2); flex-shrink: 0; }
.feed-agent { color: #4dabf7; flex-shrink: 0; min-width: 60px; }
.feed-agent::after { content: ' ›'; color: rgba(255,255,255,0.2); }
.feed-text           { color: rgba(255,255,255,0.65); }
.feed-text.error     { color: #ff4444; }
.feed-text.completion { color: var(--solar-gold); }
.feed-text.heartbeat  { color: rgba(255,255,255,0.3); }

.rs-feed-status {
    padding: 5px 10px;
    font-size: 8px;
    border-top: 1px solid rgba(255,255,255,0.04);
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
    font-family: 'Courier New', monospace;
    letter-spacing: 0.5px;
}
.feed-dot         { color: var(--success); }
.feed-dot.offline { color: #ff4444; }

/* ================================================== */
/* AGENT FLEET                                        */
/* ================================================== */
.fleet-section-label {
    font-size: 7px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-muted);
    padding: 4px 14px;
    background: rgba(255,255,255,0.02);
    border-bottom: 1px solid rgba(255,255,255,0.04);
}
.fleet-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    transition: background 0.15s;
}
.fleet-row:hover { background: rgba(77,171,247,0.04); }
.fleet-row.blocked { opacity: 0.5; }
.fleet-status-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    flex-shrink: 0;
}
.fleet-status-dot.active  { background: var(--crimson-bright); box-shadow: 0 0 5px var(--crimson-bright); animation: pill-pulse 2s infinite; }
.fleet-status-dot.idle    { background: var(--solar-orange); }
.fleet-status-dot.blocked { background: #ff4444; }
.fleet-status-dot.offline { background: #2a2a2a; }
.fleet-agent-name { 
    font-family: var(--display-font);
    font-size: 11px; 
    font-weight: 900; 
    letter-spacing: 0.5px;
    color: #4dabf7; 
    text-shadow: 0 0 4px rgba(77, 171, 247, 0.3);
    flex: 1; 
}
.fleet-agent-role { font-size: 8px; color: var(--text-muted); }
.fleet-seen { font-size: 8px; color: var(--text-muted); white-space: nowrap; }
.fleet-task-count {
    font-size: 7px;
    font-family: var(--display-font);
    padding: 1px 5px;
    border: 1px solid rgba(255,255,255,0.1);
    color: var(--text-secondary);
}

/* ================================================== */
/* WORKFLOW STATUS                                    */
/* ================================================== */
.workflow-columns {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    flex: 1;
    overflow: hidden;
}
.wf-col {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 14px 6px 8px;
    border-right: 1px solid rgba(220, 38, 38, 0.12);
    background: linear-gradient(
        180deg,
        rgba(220, 38, 38, 0.02) 0%,
        transparent 30%
    );
    position: relative;
}
.wf-col::after {
    content: '';
    position: absolute;
    right: 0;
    top: 10%;
    height: 80%;
    width: 1px;
    background: linear-gradient(
        180deg,
        transparent 0%,
        rgba(220, 38, 38, 0.2) 50%,
        transparent 100%
    );
}
.wf-col:last-child { border-right: none; }
.wf-count {
    font-family: var(--display-font);
    font-size: 30px;
    font-weight: 700;
    line-height: 1;
    color: var(--text-primary);
}
.wf-col.done .wf-count { color: var(--solar-gold); }
.wf-label {
    font-size: 7px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-top: 4px;
    margin-bottom: 8px;
}
.wf-pills { display: flex; flex-direction: column; gap: 3px; width: 100%; align-items: center; }
.wf-pill {
    font-size: 7px;
    color: var(--text-muted);
    background: rgba(255,255,255,0.04);
    padding: 2px 4px;
    width: 100%;
    text-align: center;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.wf-overflow { font-size: 7px; color: var(--crimson-bright); margin-top: 2px; }

.rs-progress-row {
    padding: 8px 14px;
    border-top: 1px solid rgba(255,255,255,0.04);
    flex-shrink: 0;
}
.rs-progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 8px;
    color: var(--text-muted);
    margin-bottom: 5px;
    letter-spacing: 1px;
}
.rs-progress-track {
    height: 2px;
    background: rgba(255,255,255,0.06);
}
.rs-progress-fill {
    height: 100%;
    background: var(--solar-gold);
    box-shadow: 0 0 8px rgba(255,215,0,0.5);
    transition: width 0.6s ease;
}

/* ================================================== */
/* TODAY'S FOCUS — ENHANCED CARDS                     */
/* ================================================== */
.focus-task-item {
    display: flex;
    flex-direction: column;
    padding: 10px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    gap: 5px;
    cursor: grab;
    transition: background 0.15s;
    border-top: 2px solid transparent;
}
.focus-task-item:hover { background: rgba(139,0,0,0.06); }
.focus-task-item:active { cursor: grabbing; }
.focus-task-row1 { display: flex; align-items: baseline; gap: 7px; flex-wrap: wrap; }
.focus-priority-badge {
    font-size: 7px;
    font-family: var(--display-font);
    padding: 2px 6px;
    letter-spacing: 1.5px;
    flex-shrink: 0;
    border: 1px solid;
}
.focus-priority-badge.overdue { background: rgba(255,68,68,0.12);   color: #ff4444;              border-color: rgba(255,68,68,0.5); }
.focus-priority-badge.high    { background: rgba(255,107,0,0.10);  color: var(--solar-orange);   border-color: rgba(255,107,0,0.4); }
.focus-priority-badge.medium  { background: rgba(255,255,255,0.04); color: var(--solar-white);   border-color: rgba(255,255,255,0.12); }
.focus-priority-badge.low     { background: transparent;            color: var(--text-muted);     border-color: rgba(255,255,255,0.06); }
.focus-task-id    { font-size: 8px; color: var(--crimson-bright); font-family: var(--display-font); flex-shrink: 0; }
.focus-task-title { font-size: 11px; color: var(--solar-white); flex: 1; line-height: 1.35; }
.focus-task-desc  { font-size: 9px; color: var(--text-muted); }
.focus-task-row2  { display: flex; align-items: center; gap: 6px; }
.focus-assignee-badge {
    font-size: 7px;
    color: #4dabf7;
    border: 1px solid rgba(77,171,247,0.3);
    padding: 1px 5px;
    font-family: var(--tech-font);
    letter-spacing: 0.5px;
}
.focus-task-actions { display: flex; gap: 5px; margin-left: auto; }
.focus-action-btn {
    font-size: 7px;
    padding: 2px 7px;
    border: 1px solid rgba(255,255,255,0.08);
    background: transparent;
    color: var(--text-muted);
    font-family: var(--tech-font);
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.15s;
}
.focus-action-btn.done-btn:hover   { border-color: var(--success); color: var(--success); }
.focus-action-btn.assign-btn:hover { border-color: #4dabf7; color: #4dabf7; }

/* ================================================== */
/* EXTRA CARDS GRID (below main grid)                 */
/* ================================================== */
.rs-extra-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    padding: 0 12px 12px;
    position: relative;
    z-index: 1;
}
.rs-extra-grid > .rs-card { height: 230px; }

/* ================================================== */
/* EXTRA CARD CONTENT STYLES                          */
/* ================================================== */
.decision-item {
    padding: 9px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
}
.decision-item-id    { font-size: 8px; color: var(--solar-gold); font-family: var(--display-font); letter-spacing: 1px; }
.decision-item-title { font-size: 11px; color: var(--solar-white); margin-top: 3px; }
.decision-item-hint  { font-size: 9px; color: var(--text-muted); margin-top: 2px; }

.completed-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 7px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
}
.completed-checkmark { color: var(--success); flex-shrink: 0; font-size: 12px; }
.completed-title { font-size: 10px; color: var(--text-secondary); flex: 1; }
.completed-time  { font-size: 8px; color: var(--text-muted); white-space: nowrap; }

.backlog-card {
    padding: 9px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    cursor: pointer;
    transition: background 0.15s;
}
.backlog-card:hover { background: rgba(255,215,0,0.04); }
.backlog-card-id    { font-size: 8px; color: var(--solar-gold); font-family: var(--display-font); letter-spacing: 1px; }
.backlog-card-title { font-size: 11px; color: var(--solar-white); margin-top: 3px; }
.backlog-card-hint  { font-size: 9px; color: var(--text-muted); margin-top: 2px; font-style: italic; }

.assignments-table { width: 100%; border-collapse: collapse; font-size: 10px; }
.assignments-table th {
    font-size: 7px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    padding: 5px 8px;
    text-align: left;
    border-bottom: 1px solid rgba(255,255,255,0.06);
}
.assignments-table td {
    padding: 5px 8px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    color: var(--text-secondary);
}
.assignments-table td:first-child  { color: #4dabf7; font-weight: 600; }
.assignments-blocked { color: #ff4444 !important; }

.comms-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
}
.comms-label   { font-size: 10px; color: var(--text-secondary); }
.comms-value   { font-size: 9px; font-family: var(--display-font); letter-spacing: 1px; color: var(--text-muted); }
.comms-value.ok    { color: var(--success); }
.comms-value.warn  { color: var(--solar-orange); }
.comms-value.error { color: #ff4444; }

/* ================================================== */
/* TOPBAR ADDITIONS                                   */
/* ================================================== */
.last-audit-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0 12px;
    border-right: 1px solid rgba(255,255,255,0.06);
    flex-shrink: 0;
}
.lad-label {
    font-size: 7px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-muted);
}
.lad-value {
    font-family: var(--display-font);
    font-size: 9px;
    color: var(--text-secondary);
}
.topbar-actions-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 5px 12px;
    border: 1px solid rgba(139,0,0,0.4);
    background: rgba(139,0,0,0.08);
    color: var(--crimson-bright);
    font-size: 8px;
    font-family: var(--display-font);
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.15s;
    margin-right: 10px;
    flex-shrink: 0;
}
.topbar-actions-btn:hover { background: rgba(220,20,60,0.18); border-color: var(--crimson-bright); }

/* ================================================== */
/* RESPONSIVE                                         */
/* ================================================== */
@media (max-width: 1200px) {
    .rs-home-grid  { grid-template-columns: 1fr 1fr; }
    .rs-extra-grid { grid-template-columns: 1fr 1fr; }
    .rs-col:last-child { grid-column: 1 / -1; }
    .rs-card-full { height: 400px; }
}
@media (max-width: 720px) {
    .rs-home-grid  { grid-template-columns: 1fr; padding: 8px; }
    .rs-extra-grid { grid-template-columns: 1fr; padding: 0 8px 8px; }
    .rs-card-half  { height: auto; min-height: 280px; }
    .rs-card-full  { height: auto; min-height: 400px; }
    .last-audit-badge { display: none; }
    .topbar-actions-btn { display: none; }
}

/* ═══════════════════════════════════════════════════════════════════════
   TYPOGRAPHY HIERARCHY SYSTEM
   ═══════════════════════════════════════════════════════════════════════ */

/* Headlines — Orbitron Bold for card titles, section headers */
.typography-headline,
.rs-card-title,
.week-title,
.topbar .mission-title,
.sidebar-brand-name {
    font-family: var(--display-font);
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
}

/* Data/Numbers — Orbitron Black for stats, counts, metrics */
.typography-data,
.cmd-stat-value,
.wf-count,
.rs-badge,
.fleet-agent-name,
.week-day-number {
    font-family: var(--display-font);
    font-weight: 900;
    letter-spacing: 0.5px;
}

/* Labels — Rajdhani Medium for subtitles, metadata */
.typography-label,
.cmd-stat-label,
.wf-label,
.rs-card-header,
.focus-filter-btn,
.week-day-name {
    font-family: var(--tech-font);
    font-weight: 500;
    letter-spacing: 1.2px;
    text-transform: uppercase;
    font-size: 10px;
}

/* Monospace — JetBrains Mono for terminal, IDs, technical data */
.typography-mono,
.live-feed .feed-text,
.agent-pill,
.rail-chip,
.task-id {
    font-family: var(--mono-font);
    font-weight: 400;
    letter-spacing: 0px;
}

/* ═══════════════════════════════════════════════════════════════════════
   SVG ICON SYSTEM — Unified geometric icon styling
   Added in Commit 4
   ═══════════════════════════════════════════════════════════════════════ */

/* Mission Control Badge Lightning Icon */
.mission-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.mission-icon svg {
    color: var(--solar-gold);
    filter: drop-shadow(0 0 6px currentColor);
}

/* Mobile Nav Menu SVG Icons */
.mobile-nav-menu a {
    display: flex !important;
    align-items: center;
    gap: 8px;
}
.mobile-nav-menu a svg {
    flex-shrink: 0;
    color: var(--crimson-bright);
    filter: drop-shadow(0 0 3px currentColor);
    transition: all 0.2s ease;
}
.mobile-nav-menu a:hover svg {
    color: var(--solar-gold);
}

/* ═══════════════════════════════════════════════════════════════════════
   COMMIT 7: TOPBAR + SIDEBAR + ANIMATIONS — Final Visual Polish
   ═══════════════════════════════════════════════════════════════════════ */

/* Topbar Glassmorphism Enhancement */
.topbar {
    backdrop-filter: blur(20px) saturate(180%);
    background: linear-gradient(
        180deg,
        rgba(220, 38, 38, 0.06) 0%,
        rgba(5, 5, 8, 0.95) 40%,
        rgba(3, 3, 5, 0.95) 100%
    ) !important;
    border-bottom: 1px solid rgba(220, 38, 38, 0.3) !important;
    box-shadow: 0 2px 0 rgba(220, 38, 38, 0.1),
                0 8px 24px rgba(0, 0, 0, 0.6) !important;
}

/* Sidebar Glassmorphism Enhancement */
.sidebar {
    backdrop-filter: blur(20px) saturate(180%);
    background: linear-gradient(
        180deg,
        rgba(220, 38, 38, 0.04) 0%,
        rgba(5, 5, 8, 0.96) 20%,
        rgba(3, 3, 5, 0.97) 100%
    ) !important;
    border-right: 1px solid rgba(220, 38, 38, 0.25) !important;
    box-shadow: 2px 0 0 rgba(220, 38, 38, 0.08),
                4px 0 20px rgba(0, 0, 0, 0.5) !important;
}

/* Sidebar Active State Glow */
.sidebar-item.active,
.sidebar-item:hover {
    background: linear-gradient(
        90deg,
        rgba(220, 38, 38, 0.12) 0%,
        rgba(220, 38, 38, 0.03) 100%
    ) !important;
    border-left: 2px solid var(--crimson-bright) !important;
    box-shadow: 0 0 12px rgba(220, 38, 38, 0.15) !important;
}

/* Card Entrance Animation */
@keyframes card-entrance {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.rs-card {
    animation: card-entrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) backwards;
}

/* Stagger card animations by grid position */
.rs-card:nth-child(1) { animation-delay: 0.05s; }
.rs-card:nth-child(2) { animation-delay: 0.1s; }
.rs-card:nth-child(3) { animation-delay: 0.15s; }
.rs-card:nth-child(4) { animation-delay: 0.2s; }
.rs-card:nth-child(5) { animation-delay: 0.25s; }
.rs-card:nth-child(6) { animation-delay: 0.3s; }

/* Stat Hover Glow Animation */
@keyframes stat-hover-glow {
    0%, 100% { 
        box-shadow: 0 0 0 rgba(220, 38, 38, 0);
    }
    50% { 
        box-shadow: 0 0 16px rgba(220, 38, 38, 0.2);
    }
}

.cmd-stat:hover {
    animation: stat-hover-glow 2s ease-in-out infinite;
}

/* Button Hover Glow Enhancement */
.topbar-actions-btn:hover,
.rs-see-all:hover,
.focus-filter-btn:hover {
    box-shadow: 0 0 12px rgba(220, 38, 38, 0.3),
                0 0 24px rgba(220, 38, 38, 0.15) !important;
    transform: translateY(-1px);
}

/* Sun Widget Enhanced Glow */
.sun-avatar-enhanced {
    filter: drop-shadow(0 0 8px rgba(220, 38, 38, 0.4)) !important;
}

/* Mission Control Badge Pulse */
@keyframes mission-badge-pulse {
    0%, 100% { 
        filter: drop-shadow(0 0 8px rgba(255, 200, 0, 0.6));
    }
    50% { 
        filter: drop-shadow(0 0 16px rgba(255, 200, 0, 0.9)) drop-shadow(0 0 24px rgba(255, 200, 0, 0.4));
    }
}

.mission-icon {
    animation: mission-badge-pulse 3s ease-in-out infinite;
}

/* Week Calendar Enhanced Color-Coding */
.week-day.has-urgent {
    border: 1px solid rgba(255, 68, 68, 0.3) !important;
    box-shadow: 0 0 8px rgba(255, 68, 68, 0.15) !important;
}

.week-day.has-warning {
    border: 1px solid rgba(255, 107, 0, 0.25) !important;
    box-shadow: 0 0 6px rgba(255, 107, 0, 0.12) !important;
}

/* Focus Filter Button Active State */
.focus-filter-btn.active {
    background: linear-gradient(
        90deg,
        rgba(220, 38, 38, 0.15) 0%,
        rgba(220, 38, 38, 0.08) 100%
    ) !important;
    border-color: var(--crimson-bright) !important;
    color: var(--crimson-bright) !important;
    box-shadow: 0 0 10px rgba(220, 38, 38, 0.2) !important;
}

/* Smooth Scroll Polish */
html {
    scroll-behavior: smooth;
}

/* Subtle Background Parallax Effect */
body::before {
    animation: nebula-drift 120s ease-in-out infinite alternate;
}

@keyframes nebula-drift {
    0% { 
        transform: scale(1) translate(0, 0);
    }
    100% { 
        transform: scale(1.05) translate(-2%, -2%);
    }
}

/* ══════════════════════════════════════════════════════════════════════════
   COMMIT 1 — COMMAND CENTER REBUILD STYLES
   ══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────
   TOPBAR TICKER
───────────────────────────────────────────────────── */
.topbar-brand {
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
    flex-shrink: 0;
}
.topbar-brand-icon {
    color: var(--crimson-bright);
    display: flex;
    align-items: center;
}
.topbar-brand-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 13px;
    font-weight: 900;
    letter-spacing: 0.12em;
    color: #f0f0f0;
    text-transform: uppercase;
}
.topbar-ticker-wrap {
    flex: 1;
    overflow: hidden;
    margin: 0 16px;
    position: relative;
    height: 22px;
    mask-image: linear-gradient(90deg, transparent 0%, #000 8%, #000 92%, transparent 100%);
    -webkit-mask-image: linear-gradient(90deg, transparent 0%, #000 8%, #000 92%, transparent 100%);
}
.topbar-ticker {
    height: 100%;
    display: flex;
    align-items: center;
    white-space: nowrap;
    overflow: hidden;
}
.ticker-content {
    display: inline-block;
    animation: ticker-scroll 50s linear infinite;
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.06em;
    color: rgba(220, 38, 38, 0.7);
    white-space: nowrap;
    /* Content doubled in JS → animate exactly half to loop seamlessly */
}
.ticker-item-done { color: rgba(34, 197, 94, 0.8); }
.ticker-item-alert { color: rgba(220, 38, 38, 0.9); }
.ticker-item-warn { color: rgba(234, 179, 8, 0.8); }
.ticker-sep { color: rgba(255,255,255,0.2); margin: 0 8px; }
@keyframes ticker-scroll {
    0%   { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}
/* Reset old absolutecentre-in-topbar approach; make it a proper flex child */
.topbar-center {
    position: static !important;
    left: auto !important;
    transform: none !important;
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: row !important;
    align-items: center;
    gap: 12px;
    overflow: hidden;
}

/* ─────────────────────────────────────────────────────
   STATS BAR — 8 Hierarchical Stat Cards
───────────────────────────────────────────────────── */
.stats-bar {
    display: flex;
    gap: 8px;
    padding: 12px 0 8px;
    overflow-x: auto;
    overflow-y: visible;
    flex-wrap: nowrap;
    scrollbar-width: thin;
    scrollbar-color: rgba(220, 38, 38, 0.3) transparent;
}
.stats-bar::-webkit-scrollbar { height: 3px; }
.stats-bar::-webkit-scrollbar-track { background: transparent; }
.stats-bar::-webkit-scrollbar-thumb { background: rgba(220, 38, 38, 0.3); border-radius: 2px; }

.stat-card {
    flex: 0 0 148px;
    min-width: 148px;
    background: rgba(10, 10, 15, 0.85);
    border: 1px solid rgba(220, 38, 38, 0.18);
    border-radius: 6px;
    padding: 10px 12px 9px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    transition: border-color 0.2s, box-shadow 0.2s;
    cursor: default;
}
.stat-card:hover {
    border-color: rgba(220, 38, 38, 0.4);
    box-shadow: 0 0 14px rgba(220, 38, 38, 0.12);
}
.stat-header {
    display: flex;
    align-items: center;
    gap: 7px;
}
.stat-icon {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    color: rgba(220, 38, 38, 0.6);
}
.stat-label {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9px;
    font-weight: 600;
    letter-spacing: 0.14em;
    color: rgba(160, 160, 170, 0.7);
    text-transform: uppercase;
}
.stat-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 26px;
    font-weight: 900;
    color: #e8e8e8;
    line-height: 1;
    letter-spacing: -0.02em;
}
.stat-val-warn { color: #eab308; }
.stat-val-good { color: #22c55e; }
.stat-val-alert { color: #dc2626; }

.stat-breakdown {
    display: flex;
    flex-direction: column;
    gap: 2px;
    margin-top: 2px;
}
.sub-stat {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0.04em;
    color: rgba(150, 150, 160, 0.65);
}
.sub-alert  { color: rgba(220, 38, 38, 0.75); }
.sub-warn   { color: rgba(234, 179, 8, 0.75); }
.sub-good   { color: rgba(34, 197, 94, 0.75); }
.sub-agent  { color: rgba(99, 179, 237, 0.75); }
.sub-decision { color: rgba(251, 191, 36, 0.75); }
.sub-approval { color: rgba(167, 139, 250, 0.75); }
.sub-idle   { color: rgba(148, 163, 184, 0.65); }
.sub-muted  { color: rgba(100, 100, 110, 0.65); }
.sub-deadline { color: rgba(220, 38, 38, 0.9); }
.sub-trend  { color: rgba(99, 179, 237, 0.75); }

/* ─────────────────────────────────────────────────────
   COMMAND GRID — 4 column (agent-ops left, focus right)
───────────────────────────────────────────────────── */
.command-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    grid-template-rows: auto;
    gap: 10px;
    margin-top: 8px;
    align-items: start;
}
.agent-ops {
    grid-column: 1 / 3;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    align-content: start;
}
.todays-focus-panel {
    grid-column: 3 / 5;
    min-height: 100%;
    display: flex;
    flex-direction: column;
}

/* ─────────────────────────────────────────────────────
   COMMAND CARDS — unified card style
───────────────────────────────────────────────────── */
.cmd-card {
    background: rgba(8, 8, 12, 0.88);
    border: 1px solid rgba(220, 38, 38, 0.16);
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: border-color 0.2s;
}
.cmd-card:hover {
    border-color: rgba(220, 38, 38, 0.32);
}
.daily-briefing-card {
    grid-column: 1 / 3;
}
.ops-row {
    display: contents; /* children become direct grid items */
}

.cmd-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 9px 12px 8px;
    border-bottom: 1px solid rgba(220, 38, 38, 0.1);
    background: rgba(220, 38, 38, 0.04);
    flex-shrink: 0;
}
.cmd-card-title {
    display: flex;
    align-items: center;
    gap: 7px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.12em;
    color: rgba(200, 200, 210, 0.85);
    text-transform: uppercase;
}
.card-icon {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
    color: rgba(220, 38, 38, 0.55);
}
.cmd-card-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}
.card-timestamp {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    color: rgba(100, 100, 110, 0.7);
}
.card-toggle-btn, .card-btn {
    background: none;
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 3px;
    padding: 2px 5px;
    color: rgba(150,150,160,0.6);
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: border-color 0.15s, color 0.15s;
}
.card-toggle-btn:hover, .card-btn:hover {
    border-color: rgba(220, 38, 38, 0.35);
    color: rgba(220, 38, 38, 0.8);
}
.card-badge {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 10px;
    border: 1px solid transparent;
}
.badge-warn    { background: rgba(234, 179, 8, 0.08); border-color: rgba(234, 179, 8, 0.3); color: #eab308; }
.badge-alert   { background: rgba(220, 38, 38, 0.08); border-color: rgba(220, 38, 38, 0.35); color: #ef4444; }
.badge-good    { background: rgba(34, 197, 94, 0.08); border-color: rgba(34, 197, 94, 0.3); color: #22c55e; }
.badge-done    { background: rgba(148, 163, 184, 0.06); border-color: rgba(148, 163, 184, 0.2); color: #94a3b8; }
.badge-total   { background: rgba(255,255,255,0.04); border-color: rgba(255,255,255,0.1); color: rgba(200,200,210,0.7); }

.cmd-card-body {
    padding: 10px 12px;
    flex: 1;
    overflow-y: auto;
    max-height: 200px;
    scrollbar-width: thin;
    scrollbar-color: rgba(100,100,110,0.3) transparent;
}
.cmd-card-body::-webkit-scrollbar { width: 3px; }
.cmd-card-body::-webkit-scrollbar-thumb { background: rgba(220, 38, 38, 0.25); border-radius: 2px; }

/* ─────────────────────────────────────────────────────
   DAILY BRIEFING — Sections
───────────────────────────────────────────────────── */
.daily-briefing-card .cmd-card-body {
    max-height: 220px;
}
.briefing-loading, .focus-loading, .week-loading {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    color: rgba(150, 150, 160, 0.5);
    padding: 8px 0;
}
.blink-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: rgba(220, 38, 38, 0.6);
    display: inline-block;
    animation: blink-pulse 1.2s ease-in-out infinite;
}
@keyframes blink-pulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}
.briefing-sections {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.briefing-section { }
.briefing-section-title {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9.5px;
    font-weight: 700;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: rgba(220, 38, 38, 0.65);
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    gap: 5px;
}
.briefing-section-title::before {
    content: '';
    display: inline-block;
    width: 12px;
    height: 1px;
    background: rgba(220, 38, 38, 0.4);
}
.briefing-row {
    font-family: 'Rajdhani', sans-serif;
    font-size: 11.5px;
    font-weight: 500;
    color: rgba(180, 180, 195, 0.85);
    padding: 3px 6px;
    border-left: 2px solid rgba(220, 38, 38, 0.2);
    margin-bottom: 2px;
    line-height: 1.3;
}
.briefing-row.urgent { border-left-color: rgba(220, 38, 38, 0.7); color: rgba(240, 180, 180, 0.9); }
.briefing-row.warn   { border-left-color: rgba(234, 179, 8, 0.6); }
.briefing-row.good   { border-left-color: rgba(34, 197, 94, 0.5); }

/* ─────────────────────────────────────────────────────
   TASK LIST — unifed task item style
───────────────────────────────────────────────────── */
.task-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.task-item-empty {
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    color: rgba(100, 100, 110, 0.6);
    padding: 6px 0;
    font-style: italic;
}
.task-item {
    background: rgba(255, 255, 255, 0.025);
    border: 1px solid rgba(255, 255, 255, 0.04);
    border-radius: 4px;
    padding: 6px 9px;
    cursor: pointer;
    transition: background 0.15s, border-color 0.15s;
}
.task-item:hover {
    background: rgba(220, 38, 38, 0.06);
    border-color: rgba(220, 38, 38, 0.2);
}
.task-item-header {
    display: flex;
    align-items: flex-start;
    gap: 7px;
}
.task-priority-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    flex-shrink: 0;
    margin-top: 4px;
}
.priority-critical .task-priority-dot { background: #dc2626; box-shadow: 0 0 4px rgba(220,38,38,0.8); }
.priority-high     .task-priority-dot { background: #ef4444; }
.priority-medium   .task-priority-dot { background: #eab308; }
.priority-low      .task-priority-dot { background: #64748b; }
.priority-blocked  .task-priority-dot { background: #f97316; box-shadow: 0 0 4px rgba(249,115,22,0.7); }

.task-title {
    font-family: 'Rajdhani', sans-serif;
    font-size: 12px;
    font-weight: 600;
    color: rgba(210, 210, 220, 0.9);
    flex: 1;
    line-height: 1.3;
}
.task-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 3px;
    padding-left: 12px;
}
.task-id {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    color: rgba(100, 100, 110, 0.6);
}
.task-deadline {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    color: rgba(148, 163, 184, 0.6);
}
.task-deadline.overdue { color: rgba(220, 38, 38, 0.9); font-weight: 600; }
.task-deadline.today   { color: rgba(234, 179, 8, 0.9); font-weight: 600; }
.task-agent {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    color: rgba(99, 179, 237, 0.6);
}

/* Task expand section (inline) */
.task-expand {
    margin-top: 7px;
    padding-top: 7px;
    border-top: 1px solid rgba(255,255,255,0.04);
    display: none;
}
.task-expand.open { display: block; }
.task-expand-field {
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    color: rgba(160, 160, 175, 0.8);
    line-height: 1.5;
    margin-bottom: 4px;
}
.task-expand-label {
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.1em;
    color: rgba(100, 100, 110, 0.7);
    text-transform: uppercase;
}

/* ─────────────────────────────────────────────────────
   FOCUS PANEL — Today's Focus (right column)
───────────────────────────────────────────────────── */
.focus-card {
    flex: 1;
    height: 100%;
    display: flex;
    flex-direction: column;
}
.focus-card-header {
    background: rgba(220, 38, 38, 0.05);
    border-bottom: 1px solid rgba(220, 38, 38, 0.15);
}
.focus-body {
    flex: 1;
    overflow-y: auto;
    padding: 10px 12px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    scrollbar-width: thin;
    scrollbar-color: rgba(220, 38, 38, 0.3) transparent;
}
.focus-body::-webkit-scrollbar { width: 3px; }
.focus-body::-webkit-scrollbar-thumb { background: rgba(220, 38, 38, 0.3); border-radius: 2px; }

.focus-top5-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.14em;
    color: rgba(220, 38, 38, 0.5);
    text-transform: uppercase;
    padding-bottom: 4px;
}
.focus-top5-label svg { color: rgba(220, 38, 38, 0.5); }

.focus-top5 {
    display: flex;
    flex-direction: column;
    gap: 5px;
    min-height: 40px;
}

/* Draggable focus task cards */
.focus-task-card {
    background: rgba(10, 10, 14, 0.9);
    border: 1px solid rgba(220, 38, 38, 0.2);
    border-radius: 5px;
    padding: 9px 11px;
    cursor: grab;
    transition: background 0.15s, border-color 0.15s, transform 0.1s;
    position: relative;
}
.focus-task-card:hover {
    background: rgba(220, 38, 38, 0.05);
    border-color: rgba(220, 38, 38, 0.4);
}
.focus-task-card.dragging {
    opacity: 0.5;
    cursor: grabbing;
    transform: scale(0.98);
}
.focus-task-card.drag-over {
    border-color: rgba(220, 38, 38, 0.7);
    box-shadow: 0 0 10px rgba(220, 38, 38, 0.2);
}
.focus-rank {
    position: absolute;
    top: 8px;
    right: 10px;
    font-family: 'Orbitron', sans-serif;
    font-size: 9px;
    font-weight: 700;
    color: rgba(100, 100, 110, 0.4);
}
.focus-task-title {
    font-family: 'Rajdhani', sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: rgba(220, 220, 235, 0.92);
    padding-right: 24px;
    line-height: 1.3;
}
.focus-task-meta {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 4px;
}
.focus-task-id {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    color: rgba(100, 100, 110, 0.6);
}
.focus-priority-tag {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9.5px;
    font-weight: 600;
    letter-spacing: 0.08em;
    padding: 1px 5px;
    border-radius: 2px;
    text-transform: uppercase;
}
.focus-priority-critical { background: rgba(220,38,38,0.15); color: rgba(220,38,38,0.9); border: 1px solid rgba(220,38,38,0.3); }
.focus-priority-high     { background: rgba(239,68,68,0.1); color: rgba(239,68,68,0.85); border: 1px solid rgba(239,68,68,0.25); }
.focus-priority-medium   { background: rgba(234,179,8,0.1); color: rgba(234,179,8,0.8); border: 1px solid rgba(234,179,8,0.2); }
.focus-priority-low      { background: rgba(100,116,139,0.1); color: rgba(148,163,184,0.7); border: 1px solid rgba(100,116,139,0.2); }
.focus-deadline {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    color: rgba(148, 163, 184, 0.6);
    margin-left: auto;
}
.focus-deadline.overdue { color: rgba(220, 38, 38, 0.9); font-weight: 600; }
.focus-deadline.today   { color: rgba(234, 179, 8, 0.9); font-weight: 600; }

/* Task inline expand in focus */
.focus-task-expand {
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid rgba(255,255,255,0.04);
    display: none;
}
.focus-task-expand.open { display: block; }
.focus-expand-row {
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    color: rgba(160, 160, 175, 0.8);
    line-height: 1.5;
    margin-bottom: 3px;
}
.focus-expand-row span {
    color: rgba(100, 100, 110, 0.7);
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-right: 6px;
}
.focus-task-actions {
    display: flex;
    gap: 6px;
    margin-top: 8px;
}
.focus-action-btn {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 0.06em;
    padding: 4px 10px;
    border-radius: 3px;
    border: 1px solid rgba(220, 38, 38, 0.3);
    background: rgba(220, 38, 38, 0.07);
    color: rgba(220, 38, 38, 0.8);
    cursor: pointer;
    transition: background 0.15s, border-color 0.15s;
    text-transform: uppercase;
}
.focus-action-btn:hover {
    background: rgba(220, 38, 38, 0.14);
    border-color: rgba(220, 38, 38, 0.5);
}
.focus-action-btn.done-btn {
    border-color: rgba(34, 197, 94, 0.3);
    background: rgba(34, 197, 94, 0.07);
    color: rgba(34, 197, 94, 0.8);
}
.focus-action-btn.done-btn:hover {
    background: rgba(34, 197, 94, 0.14);
}

/* Also Today section */
.also-today-section {
    margin-top: 4px;
}
.also-today-header {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    background: none;
    border: none;
    padding: 8px 2px;
    cursor: pointer;
    color: rgba(130, 130, 145, 0.7);
    transition: color 0.15s;
}
.also-today-header:hover { color: rgba(200, 200, 215, 0.8); }
.also-divider-line {
    flex: 1;
    height: 1px;
    background: rgba(255,255,255,0.06);
}
.also-label {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9.5px;
    font-weight: 700;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    white-space: nowrap;
    color: inherit;
}
.also-count {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    color: inherit;
    opacity: 0.7;
    white-space: nowrap;
}
.also-chevron {
    flex-shrink: 0;
    transition: transform 0.2s;
    color: inherit;
}
.also-chevron.open { transform: rotate(180deg); }
.also-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-top: 4px;
}

/* ─────────────────────────────────────────────────────
   SYSTEM HEALTH CARD
───────────────────────────────────────────────────── */
.health-indicator { display: flex; align-items: center; }
.health-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
}
.health-dot.good    { background: #22c55e; box-shadow: 0 0 5px rgba(34,197,94,0.6); }
.health-dot.warn    { background: #eab308; box-shadow: 0 0 5px rgba(234,179,8,0.6); }
.health-dot.error   { background: #dc2626; box-shadow: 0 0 5px rgba(220,38,38,0.6); }
.health-dot.offline { background: rgba(100,116,139,0.6); }

.health-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 4px 0;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
}
.health-row:last-child { border-bottom: none; }
.health-label { color: rgba(140, 140, 155, 0.75); font-weight: 500; }
.health-status {
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    color: rgba(200, 200, 215, 0.8);
}
.health-status.ok     { color: rgba(34, 197, 94, 0.85); }
.health-status.error  { color: rgba(220, 38, 38, 0.85); }
.health-status.warn   { color: rgba(234, 179, 8, 0.85); }

/* ─────────────────────────────────────────────────────
   WEEK CALENDAR — redesigned
───────────────────────────────────────────────────── */
.week-calendar-section {
    margin-top: 10px;
    background: rgba(8, 8, 12, 0.85);
    border: 1px solid rgba(220, 38, 38, 0.15);
    border-radius: 6px;
    overflow: hidden;
}
.week-cal-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 9px 14px;
    background: rgba(220, 38, 38, 0.04);
    border-bottom: 1px solid rgba(220, 38, 38, 0.1);
}
.week-cal-title {
    display: flex;
    align-items: center;
    gap: 7px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.12em;
    color: rgba(200, 200, 210, 0.85);
    text-transform: uppercase;
}
.week-nav {
    display: flex;
    align-items: center;
    gap: 4px;
    margin-left: auto;
}
.week-nav-btn {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 3px;
    padding: 4px 8px;
    color: rgba(150,150,160,0.7);
    cursor: pointer;
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 0.06em;
    display: flex;
    align-items: center;
    transition: border-color 0.15s, color 0.15s;
}
.week-nav-btn:hover, .week-today-btn {
    border-color: rgba(220, 38, 38, 0.35);
    color: rgba(220, 38, 38, 0.8);
}
.week-range-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9.5px;
    color: rgba(100, 100, 110, 0.6);
    margin-left: 8px;
}

.week-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 0;
}
.week-day-col {
    border-right: 1px solid rgba(255,255,255,0.04);
    min-height: 100px;
    padding: 8px;
    position: relative;
}
.week-day-col:last-child { border-right: none; }
.week-day-col.today-col {
    background: rgba(220, 38, 38, 0.04);
}
.week-day-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 7px;
}
.week-day-name {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(130, 130, 145, 0.65);
}
.week-day-num {
    font-family: 'Orbitron', sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: rgba(180, 180, 195, 0.8);
    line-height: 1;
    margin-top: 2px;
}
.today-col .week-day-name { color: rgba(220, 38, 38, 0.7); }
.today-col .week-day-num  { color: rgba(220, 38, 38, 0.95); }

.week-task-chip {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    font-weight: 500;
    padding: 3px 7px;
    border-radius: 3px;
    margin-bottom: 3px;
    border-left: 2px solid;
    cursor: pointer;
    transition: background 0.12s;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
    display: block;
}
/* Priority colour system for week calendar chips */
.week-chip-critical { background: rgba(220,38,38,0.1); border-color: #dc2626; color: rgba(240,180,180,0.9); }
.week-chip-high     { background: rgba(239,68,68,0.07); border-color: rgba(239,68,68,0.7); color: rgba(220,180,180,0.85); }
.week-chip-medium   { background: rgba(234,179,8,0.07); border-color: rgba(234,179,8,0.6); color: rgba(234,210,150,0.85); }
.week-chip-low      { background: rgba(100,116,139,0.06); border-color: rgba(100,116,139,0.4); color: rgba(148,163,184,0.7); }
.week-chip-done     { background: rgba(34,197,94,0.06); border-color: rgba(34,197,94,0.4); color: rgba(150,200,160,0.6); text-decoration: line-through; }
.week-chip-overdue  { background: rgba(220,38,38,0.14); border-color: #dc2626; color: rgba(255,150,150,0.9); box-shadow: 0 0 5px rgba(220,38,38,0.2); }
/* Hard deadline: skull indicator */
.week-chip-deadline {
    background: rgba(15,0,0,0.6);
    border-color: #dc2626;
    color: rgba(255,200,200,0.95);
    box-shadow: 0 0 6px rgba(220,38,38,0.25);
}
.week-chip-deadline::before {
    content: '☠';
    margin-right: 4px;
    font-size: 9px;
    letter-spacing: 0;
}
.week-more-btn {
    font-family: 'Rajdhani', sans-serif;
    font-size: 9.5px;
    font-weight: 600;
    color: rgba(100, 100, 110, 0.7);
    background: none;
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 2px;
    padding: 1px 6px;
    cursor: pointer;
    width: 100%;
    text-align: left;
    margin-top: 2px;
    transition: color 0.15s, border-color 0.15s;
}
.week-more-btn:hover {
    color: rgba(220, 38, 38, 0.7);
    border-color: rgba(220, 38, 38, 0.25);
}
.week-loading {
    grid-column: 1 / 8;
    padding: 20px 16px;
}

/* ─────────────────────────────────────────────────────
   RESPONSIVE
───────────────────────────────────────────────────── */
@media (max-width: 1200px) {
    .command-grid {
        grid-template-columns: 1fr 1fr;
    }
    .agent-ops {
        grid-column: 1 / 3;
    }
    .todays-focus-panel {
        grid-column: 1 / 3;
    }
}
@media (max-width: 768px) {
    .command-grid {
        grid-template-columns: 1fr;
    }
    .agent-ops {
        grid-column: 1 / 2;
        grid-template-columns: 1fr;
    }
    .todays-focus-panel {
        grid-column: 1 / 2;
    }
    .daily-briefing-card {
        grid-column: 1 / 2;
    }
    .week-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    .stats-bar {
        flex-wrap: nowrap;
    }
}


/* ══════════════════════════════════════════════════════════════════════════
   COMMIT 9 — POLISH: Focus panel height, grid alignment, toasts, pulses
   ══════════════════════════════════════════════════════════════════════════ */

/* ── Fix command grid so agent-ops and focus panel are equal height */
.command-grid {
    align-items: stretch;
}
.agent-ops {
    align-items: stretch;
}

/* ── Focus card body: no max-height — should scroll freely to fill height */
.focus-card .cmd-card-body,
.focus-body {
    max-height: none;
    flex: 1;
    min-height: 300px;
}
/* But regular ops cards keep their max-height */
.cmd-card:not(.focus-card):not(.daily-briefing-card) .cmd-card-body {
    max-height: 220px;
}

/* ── Make todays-focus-panel stretch full grid height */
.todays-focus-panel {
    display: flex;
    flex-direction: column;
    align-self: stretch;
}
.todays-focus-panel .focus-card {
    flex: 1;
    min-height: 500px;
}

/* ── TOAST NOTIFICATIONS */
#toast-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 8px;
    pointer-events: none;
}
.toast {
    background: rgba(8, 8, 14, 0.96);
    border: 1px solid rgba(220, 38, 38, 0.35);
    border-radius: 6px;
    padding: 10px 16px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 12px;
    font-weight: 600;
    color: rgba(220, 220, 235, 0.92);
    letter-spacing: 0.04em;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    gap: 10px;
    min-width: 220px;
    max-width: 360px;
    animation: toast-in 0.25s ease forwards;
    pointer-events: auto;
}
.toast.toast-done {
    border-color: rgba(34, 197, 94, 0.4);
    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.1);
}
.toast.toast-alert {
    border-color: rgba(220, 38, 38, 0.5);
    box-shadow: 0 4px 20px rgba(220, 38, 38, 0.15);
}
.toast.toast-info {
    border-color: rgba(99, 179, 237, 0.35);
}
.toast-icon {
    font-size: 14px;
    flex-shrink: 0;
}
.toast-text { flex: 1; }
.toast-dismiss {
    background: none;
    border: none;
    color: rgba(150,150,160,0.5);
    cursor: pointer;
    font-size: 14px;
    padding: 0 2px;
    pointer-events: auto;
    flex-shrink: 0;
}
@keyframes toast-in {
    from { opacity: 0; transform: translateX(20px); }
    to   { opacity: 1; transform: translateX(0); }
}
@keyframes toast-out {
    from { opacity: 1; transform: translateX(0); }
    to   { opacity: 0; transform: translateX(20px); }
}

/* ── DATA UPDATE PULSE — flashes stats bar on data refresh */
@keyframes refresh-pulse {
    0%   { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
    30%  { box-shadow: 0 0 16px 2px rgba(220, 38, 38, 0.25); }
    100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
}
.stats-bar.refreshing {
    animation: refresh-pulse 1s ease forwards;
}

/* ── BRIEFING sections layout fix */
.briefing-section-title::before { flex-shrink: 0; }
.daily-briefing-card .cmd-card-body {
    max-height: 280px;
}

/* ── Ensure ops-row cards display properly in agent-ops grid */
/* ops-row uses display:contents so children become direct grid items */
/* Set min-height on those children: */
#card-review, #card-decisions,
#card-active, #card-recent,
#card-recs, #card-health {
    min-height: 120px;
}

/* ── Focus rank number styling */
.focus-rank { user-select: none; }

/* ── Stats bar card highlight when value is nonzero alert */
#stat-blocked .stat-value:not(:empty):not([data-zero="true"]) { }
.stat-card.stat-has-alerts {
    border-color: rgba(220, 38, 38, 0.4);
}

/* ── Ticker animation delay reset on update */
.ticker-content.updated {
    animation: none;
}

/* ── Week calendar chip title tooltip on hover */
.week-task-chip {
    position: relative;
}

/* ── Smooth section transitions */
.home-section .cmd-card { animation: card-appear 0.3s ease; }
@keyframes card-appear {
    from { opacity: 0; transform: translateY(4px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* ── Priority dot visibility fix */
.task-item .task-priority-dot {
    display: inline-block;
    min-width: 5px;
}


/* ══════════════════════════════════════════════════════════════════════════
   COMMIT 10 — LAYOUT POLISH + BUG FIXES
   ══════════════════════════════════════════════════════════════════════════ */

/* ── Ticker: ensure it only scrolls after data first loads, not placeholder */
#ticker-content:empty { display: none; }

/* ── Topbar: ensure topbar-right stays visible and shrinks properly */
.topbar-right {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 12px;
}
.topbar-left { flex-shrink: 0; }

/* ── Stats bar: ensure last stat-card isn't clipped by scrollbar */
.stats-bar::after {
    content: '';
    display: block;
    min-width: 8px;
    flex-shrink: 0;
}

/* ── Command grid: enforce left cols stay equal width even when wrapping */
@media (min-width: 769px) {
    .command-grid {
        grid-template-columns: 1fr 1fr 1.4fr 1.4fr;
    }
}

/* ── Fix daily-briefing grid-column span - needs to be grid-column not class */
/* The .daily-briefing-card in ops-row is inside agent-ops 2col grid */

/* ── Stat card values: prevent layout shift when numbers load */
.stat-value, .stat-breakdown {
    min-height: 1em;
}

/* ── Focus card inner: add slight separator between top5 and also-today */
.focus-top5 {
    padding-bottom: 4px;
}

/* ── Week calendar: don't let chips overflow column horizontally */
.week-day-col {
    overflow: hidden;
    min-width: 0;
}
.week-task-chip {
    display: block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ── Task priority dot: ensure consistent rendering */
.priority-critical .task-priority-dot,
.priority-high .task-priority-dot {
    box-shadow: 0 0 5px currentColor;
}

/* ── Focus task card: better visual separation for rank */
.focus-rank {
    font-family: 'Orbitron', sans-serif;
    font-size: 8px;
    font-weight: 700;
    color: rgba(80, 80, 90, 0.5);
    position: absolute;
    top: 7px;
    right: 9px;
    letter-spacing: 0.05em;
}

/* ── System health: compact layout fit in small card */
#system-health-content {
    padding: 2px 0;
}
.health-row {
    padding: 3px 0;
}

/* ── Agent ops grid: briefing spans both columns via grid-column */
.daily-briefing-card {
    grid-column: 1 / 3;
}

/* ── Stat card: subtle red left border accent on hover */
.stat-card:hover {
    border-left-color: rgba(220, 38, 38, 0.5);
    border-left-width: 2px;
}

/* ── Card badges: reduce font weight for cleaner look */
.card-badge {
    font-family: 'Rajdhani', sans-serif;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.06em;
}

/* ── Week calendar: show subtle today column indicator */
.today-col {
    position: relative;
}
.today-col::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, rgba(220, 38, 38, 0.6), rgba(220, 38, 38, 0.2));
}

/* ── Command grid responsive: stack at medium screens */
@media (max-width: 1100px) {
    .command-grid {
        grid-template-columns: 1fr 1fr;
    }
    .agent-ops   { grid-column: 1 / 3; }
    .todays-focus-panel { grid-column: 1 / 3; }
}

/* ── Hide old cmd-strip if somehow present */
.cmd-strip { display: none !important; }

/* ── Briefing section row: truncate overlong lines */
.briefing-row {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
}

/* ── Briefing row: show full text on hover */
.briefing-row:hover {
    white-space: normal;
    background: rgba(255,255,255,0.02);
}

/* ── Focus task expand action buttons: ensure proper width */
.focus-task-actions {
    flex-wrap: wrap;
}

/* ── Also-today "more" divider styling */
.also-today-header:hover .also-label {
    color: rgba(220, 38, 38, 0.7);
}

/* ── Scrollable focus body: ensure proper min-height on small screens */
@media (max-height: 800px) {
    .todays-focus-panel .focus-card {
        min-height: 400px;
    }
    .focus-body {
        min-height: 200px;
    }
}


/* ═══════════════════════════════════════════════════════════════════
   COMMIT 11 — SYSTEM HEALTH: AGENT FLEET STATUS
   ═══════════════════════════════════════════════════════════════════ */

/* ── Health divider ────────────────────────────────────────────── */
.health-divider {
    height: 1px;
    background: rgba(255,255,255,0.07);
    margin: 6px 0;
}

/* ── Agent health rows ──────────────────────────────────────────── */
.agent-health-row {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 3px 0;
    font-size: 9px;
}

.agent-health-name {
    font-family: var(--font-mono);
    font-size: 8.5px;
    font-weight: 700;
    color: var(--text-bright);
    min-width: 72px;
    letter-spacing: 0.03em;
}

.agent-health-right {
    display: flex;
    flex-direction: column;
    gap: 1px;
    overflow: hidden;
    flex: 1;
}

.agent-health-task {
    font-size: 8px;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.agent-health-timestamp {
    font-size: 7.5px;
    color: var(--text-muted);
    opacity: 0.7;
}

/* ── Agent pulse dots ───────────────────────────────────────────── */
.agent-pulse-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    flex-shrink: 0;
    display: inline-block;
}

/* ACTIVE — breathing green glow */
.agent-dot-active {
    background: #00ff88;
    box-shadow: 0 0 4px #00ff88;
    animation: agent-breath 2.4s ease-in-out infinite;
}
@keyframes agent-breath {
    0%, 100% { opacity: 1;   box-shadow: 0 0 4px #00ff88, 0 0 8px #00ff8888; }
    50%       { opacity: 0.55; box-shadow: 0 0 2px #00ff88; }
}

/* BLOCKED — orange fast blink */
.agent-dot-blocked {
    background: #ff8c00;
    box-shadow: 0 0 4px #ff8c00;
    animation: agent-blocked-blink 1s step-end infinite;
}
@keyframes agent-blocked-blink {
    0%, 100% { opacity: 1; }
    50%       { opacity: 0.1; }
}

/* IDLE — dim white, no animation */
.agent-dot-idle {
    background: rgba(255,255,255,0.35);
}

/* OFFLINE / UNSPAWNED — gray, no animation */
.agent-dot-offline {
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.15);
}

/* System health card — allow taller body for agent fleet */
#card-health .cmd-card-body {
    max-height: 260px;
    overflow-y: auto;
}

